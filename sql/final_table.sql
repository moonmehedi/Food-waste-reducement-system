
--volunteer
CREATE TABLE "ADMIN"."VOLUNTEER" 
   (	"VOLUNTEER_ID" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"EMAIL" VARCHAR2(50), 
	"PASSWORD" VARCHAR2(100), 
	"NAME" VARCHAR2(40), 
	"DATE_OF_BIRTH" DATE, 
	"CITY" VARCHAR2(40), 
	"DISTRICT" VARCHAR2(40), 
	"DIVISION" VARCHAR2(40), 
	"STREETNO" VARCHAR2(20), 
	"PHONE" VARCHAR2(20), 
	"TASK_COUNT" NUMBER DEFAULT 0, 
	 CONSTRAINT "VOLUNTEER_EMAIL_FORMAT" CHECK (REGEXP_LIKE(EMAIL, '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$')) ENABLE, 
	 PRIMARY KEY ("VOLUNTEER_ID")
  USING INDEX  ENABLE
   ) ;
--recipient
CREATE TABLE "ADMIN"."RECIPIENT" 
   (	"RECIPIENT_ID" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"EMAIL" VARCHAR2(50), 
	"PASSWORD" VARCHAR2(100), 
	"INSTITUTION_NAME" VARCHAR2(40), 
	"INSTITUTION_TYPE" VARCHAR2(50), 
	"CITY" VARCHAR2(40), 
	"DISTRICT" VARCHAR2(40), 
	"DIVISION" VARCHAR2(40), 
	"STREETNO" VARCHAR2(20), 
	"PHONE" VARCHAR2(20), 
	"VOLUNTEER_ID" NUMBER, 
	"DATE_R" DATE, 
	"VERIFIED" CHAR(10), 
	"AUTHENTICITY" VARCHAR2(20) DEFAULT 'pending', 
	"STATUS" VARCHAR2(20) DEFAULT 'Pending', 
	 CONSTRAINT "RECIPIENT_EMAIL_FORMAT" CHECK (REGEXP_LIKE(EMAIL, '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$')) ENABLE, 
	 PRIMARY KEY ("RECIPIENT_ID")
  USING INDEX  ENABLE, 
	 FOREIGN KEY ("VOLUNTEER_ID")
	  REFERENCES "ADMIN"."VOLUNTEER" ("VOLUNTEER_ID") ENABLE
   ) ;


--donor
CREATE TABLE "ADMIN"."DONOR" 
   (	"DONOR_ID" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"EMAIL" VARCHAR2(50), 
	"PASSWORD" VARCHAR2(100), 
	"INSTITUTION_NAME" VARCHAR2(40), 
	"INSTITUTION_TYPE" VARCHAR2(50), 
	"CITY" VARCHAR2(40), 
	"DISTRICT" VARCHAR2(40), 
	"DIVISION" VARCHAR2(40), 
	"STREETNO" VARCHAR2(20), 
	"PHONE" VARCHAR2(20), 
	"VERIFIED" CHAR(10), 
	"POINTS" NUMBER, 
	"VOLUNTEER_ID" NUMBER, 
	"DATE_D" DATE, 
	"AUTHENTICITY" VARCHAR2(20) DEFAULT 'pending', 
	 CONSTRAINT "DONOR_EMAIL_FORMAT" CHECK (REGEXP_LIKE(EMAIL, '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$')) ENABLE, 
	 PRIMARY KEY ("DONOR_ID")
  USING INDEX  ENABLE, 
	 FOREIGN KEY ("VOLUNTEER_ID")
	  REFERENCES "ADMIN"."VOLUNTEER" ("VOLUNTEER_ID") ENABLE
   ) ;

   --food
CREATE TABLE "ADMIN"."FOOD" 
   (	"FOOD_ID" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"NAME" VARCHAR2(40), 
	"QUANTITY" NUMBER, 
	"EXP_DATE" DATE, 
	"PHOTO" BLOB, 
	"VERIFIED" CHAR(10), 
	"VOLUNTEER_ID" NUMBER, 
	"DONOR_ID" NUMBER, 
	"DATE_F" DATE, 
	"SELL_OR_DONATE" VARCHAR2(20), 
	"AUTHENTICITY" VARCHAR2(20) DEFAULT 'pending', 
	 PRIMARY KEY ("FOOD_ID")
  USING INDEX  ENABLE, 
	 FOREIGN KEY ("VOLUNTEER_ID")
	  REFERENCES "ADMIN"."VOLUNTEER" ("VOLUNTEER_ID") ENABLE, 
	 FOREIGN KEY ("DONOR_ID")
	  REFERENCES "ADMIN"."DONOR" ("DONOR_ID") ENABLE
   ) ;



--customer
CREATE TABLE "ADMIN"."CUSTOMER" 
   (	"NID" NUMBER, 
	"NAME" VARCHAR2(40), 
	"DOB" DATE, 
	"CITY" VARCHAR2(40), 
	"DISTRICT" VARCHAR2(40), 
	"DIVISION" VARCHAR2(40), 
	"STREETNO" VARCHAR2(20), 
	"PHONE" VARCHAR2(20), 
	"PASSWORD" VARCHAR2(100), 
	 PRIMARY KEY ("NID")
  USING INDEX  ENABLE
   ) ;


--manager
CREATE TABLE "ADMIN"."MANAGER" 
   (	"MANAGER_ID" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"EMAIL" VARCHAR2(50), 
	"PASSWORD" VARCHAR2(50), 
	"NAME" VARCHAR2(40), 
	"DATE_OF_BIRTH" DATE, 
	"CITY" VARCHAR2(40), 
	"DISTRICT" VARCHAR2(40), 
	"DIVISION" VARCHAR2(40), 
	"STREETNO" VARCHAR2(20), 
	"PHONE" VARCHAR2(20), 
	 CONSTRAINT "MANAGER_EMAIL_FORMAT" CHECK (REGEXP_LIKE(EMAIL, '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$')) ENABLE, 
	 PRIMARY KEY ("MANAGER_ID")
  USING INDEX  ENABLE
   ) ;


--assign
CREATE TABLE "ADMIN"."ASSIGN" 
   (	"MANAGER_ID" NUMBER, 
	"VOLUNTEER_ID" NUMBER, 
	"TASK" VARCHAR2(50), 
	"PHONE" VARCHAR2(20), 
	 FOREIGN KEY ("MANAGER_ID")
	  REFERENCES "ADMIN"."MANAGER" ("MANAGER_ID") ENABLE, 
	 FOREIGN KEY ("VOLUNTEER_ID")
	  REFERENCES "ADMIN"."VOLUNTEER" ("VOLUNTEER_ID") ENABLE
   ) ;


--order
CREATE TABLE "ADMIN"."ORDERS" 
   (	"ORDER_ID" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"NID" NUMBER, 
	"FOOD_ID" NUMBER, 
	"DONOR_NAME" VARCHAR2(100), 
	"QUANTITY" NUMBER, 
	"ORDER_STATUS" VARCHAR2(20) DEFAULT 'PENDING', 
	"ORDER_DATE" DATE DEFAULT SYSDATE, 
	 PRIMARY KEY ("ORDER_ID")
  USING INDEX  ENABLE, 
	 FOREIGN KEY ("FOOD_ID")
	  REFERENCES "ADMIN"."FOOD" ("FOOD_ID") ENABLE
   ) ;
--receives
CREATE TABLE "ADMIN"."RECEIVES" 
   (	"MANAGER_ID" NUMBER, 
	"FOOD_ID" NUMBER, 
	"RECIPIENT_ID" NUMBER, 
	"REQ_DATE" DATE, 
	"NUMBER_OF_PEOPLE" NUMBER, 
	"RECEIVED_AMOUNT" NUMBER DEFAULT 0, 
	"REQ_ID" NUMBER, 
	"ORDER_DATE" DATE, 
	"STATUS" VARCHAR2(20) GENERATED ALWAYS AS (CASE  WHEN ("MANAGER_ID" IS NULL AND "FOOD_ID" IS NULL) THEN 'Pending' ELSE 'Assigned' END) VIRTUAL , 
	 FOREIGN KEY ("MANAGER_ID")
	  REFERENCES "ADMIN"."MANAGER" ("MANAGER_ID") ENABLE, 
	 FOREIGN KEY ("FOOD_ID")
	  REFERENCES "ADMIN"."FOOD" ("FOOD_ID") ENABLE, 
	 FOREIGN KEY ("RECIPIENT_ID")
	  REFERENCES "ADMIN"."RECIPIENT" ("RECIPIENT_ID") ENABLE
   ) ;




--sells
CREATE TABLE "ADMIN"."SELLS" 
   (	"DONOR_ID" NUMBER, 
	"NID" NUMBER, 
	"FOOD_ID" NUMBER, 
	"ORIGINAL_PRICE" NUMBER, 
	"DISCOUNTED_PRICE" NUMBER, 
	"DATE_S" DATE, 
	"ORDER_STATUS" VARCHAR2(8) DEFAULT NULL, 
	 FOREIGN KEY ("DONOR_ID")
	  REFERENCES "ADMIN"."DONOR" ("DONOR_ID") ENABLE, 
	 FOREIGN KEY ("FOOD_ID")
	  REFERENCES "ADMIN"."FOOD" ("FOOD_ID") ENABLE
   ) ;
